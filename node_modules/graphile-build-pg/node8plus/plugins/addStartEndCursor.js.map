{"version":3,"file":"addStartEndCursor.js","names":["base64","str","Buffer","from","String","toString","cursorify","val","__cursor","JSON","stringify","addStartEndCursor","value","data","length","startCursor","endCursor","exports","default"],"sources":["../../src/plugins/addStartEndCursor.js"],"sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\nconst base64 = str => Buffer.from(String(str)).toString(\"base64\");\n\nfunction cursorify(val) {\n  return val && val.__cursor ? base64(JSON.stringify(val.__cursor)) : null;\n}\n\nexport default (function addStartEndCursor(value) {\n  const data = value && value.data && value.data.length ? value.data : null;\n  const startCursor = cursorify(data && data[0]);\n  const endCursor = cursorify(data && data[value.data.length - 1]);\n  return {\n    ...value,\n    startCursor,\n    endCursor,\n  };\n}: Plugin);\n"],"mappings":";;;;;;AAEA,MAAMA,MAAM,GAAGC,GAAG,IAAIC,MAAM,CAACC,IAAI,CAACC,MAAM,CAACH,GAAG,CAAC,CAAC,CAACI,QAAQ,CAAC,QAAQ,CAAC;AAEjE,SAASC,SAASA,CAACC,GAAG,EAAE;EACtB,OAAOA,GAAG,IAAIA,GAAG,CAACC,QAAQ,GAAGR,MAAM,CAACS,IAAI,CAACC,SAAS,CAACH,GAAG,CAACC,QAAQ,CAAC,CAAC,GAAG,IAAI;AAC1E;AAAC,IAEwBG,iBAAiB,GAA1B,SAASA,iBAAiBA,CAACC,KAAK,EAAE;EAChD,MAAMC,IAAI,GAAGD,KAAK,IAAIA,KAAK,CAACC,IAAI,IAAID,KAAK,CAACC,IAAI,CAACC,MAAM,GAAGF,KAAK,CAACC,IAAI,GAAG,IAAI;EACzE,MAAME,WAAW,GAAGT,SAAS,CAACO,IAAI,IAAIA,IAAI,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAMG,SAAS,GAAGV,SAAS,CAACO,IAAI,IAAIA,IAAI,CAACD,KAAK,CAACC,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC;EAChE,OAAO;IACL,GAAGF,KAAK;IACRG,WAAW;IACXC;EACF,CAAC;AACH,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAP,iBAAA"}