{"version":3,"file":"PgColumnDeprecationPlugin.js","names":["PgColumnDeprecationPlugin","builder","hook","field","build","context","scope","pgFieldIntrospection","tags","deprecated","deprecationReason","Array","isArray","join","exports","default"],"sources":["../../src/plugins/PgColumnDeprecationPlugin.js"],"sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\n\nexport default (function PgColumnDeprecationPlugin(builder) {\n  builder.hook(\n    \"GraphQLObjectType:fields:field\",\n    (field, build, context) => {\n      const {\n        scope: { pgFieldIntrospection },\n      } = context;\n      if (\n        !pgFieldIntrospection ||\n        !pgFieldIntrospection.tags ||\n        !pgFieldIntrospection.tags.deprecated\n      ) {\n        return field;\n      }\n      return {\n        ...field,\n        deprecationReason: Array.isArray(pgFieldIntrospection.tags.deprecated)\n          ? pgFieldIntrospection.tags.deprecated.join(\"\\n\")\n          : pgFieldIntrospection.tags.deprecated,\n      };\n    },\n    [\"PgColumnDeprecation\"]\n  );\n}: Plugin);\n"],"mappings":";;;;;;IAGyBA,yBAAyB,GAAlC,SAASA,yBAAyBA,CAACC,OAAO,EAAE;EAC1DA,OAAO,CAACC,IAAI,CACV,gCAAgC,EAChC,CAACC,KAAK,EAAEC,KAAK,EAAEC,OAAO,KAAK;IACzB,MAAM;MACJC,KAAK,EAAE;QAAEC;MAAqB;IAChC,CAAC,GAAGF,OAAO;IACX,IACE,CAACE,oBAAoB,IACrB,CAACA,oBAAoB,CAACC,IAAI,IAC1B,CAACD,oBAAoB,CAACC,IAAI,CAACC,UAAU,EACrC;MACA,OAAON,KAAK;IACd;IACA,OAAO;MACL,GAAGA,KAAK;MACRO,iBAAiB,EAAEC,KAAK,CAACC,OAAO,CAACL,oBAAoB,CAACC,IAAI,CAACC,UAAU,CAAC,GAClEF,oBAAoB,CAACC,IAAI,CAACC,UAAU,CAACI,IAAI,CAAC,IAAI,CAAC,GAC/CN,oBAAoB,CAACC,IAAI,CAACC;IAChC,CAAC;EACH,CAAC,EACD,CAAC,qBAAqB,CACxB,CAAC;AACH,CAAC;AAAAK,OAAA,CAAAC,OAAA,GAAAf,yBAAA"}