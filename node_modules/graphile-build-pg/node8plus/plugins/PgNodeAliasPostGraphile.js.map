{"version":3,"file":"PgNodeAliasPostGraphile.js","names":["PgNodeAliasPostGraphile","builder","hook","object","build","context","setNodeAlias","inflection","pluralize","scope","isPgRowType","isPgCompoundType","pgIntrospection","table","name","exports","default"],"sources":["../../src/plugins/PgNodeAliasPostGraphile.js"],"sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\n\nexport default (async function PgNodeAliasPostGraphile(builder) {\n  builder.hook(\n    \"GraphQLObjectType\",\n    (object, build, context) => {\n      const {\n        setNodeAlias,\n        inflection: { pluralize },\n      } = build;\n      if (!setNodeAlias) {\n        // Node plugin must be disabled.\n        return object;\n      }\n      const {\n        scope: { isPgRowType, isPgCompoundType, pgIntrospection: table },\n      } = context;\n      if (isPgRowType || isPgCompoundType) {\n        setNodeAlias(object.name, pluralize(table.name));\n      }\n      return object;\n    },\n    [\"PgNodeAliasPostGraphile\"]\n  );\n}: Plugin);\n"],"mappings":";;;;;;IAG+BA,uBAAuB,GAAtC,eAAeA,uBAAuBA,CAACC,OAAO,EAAE;EAC9DA,OAAO,CAACC,IAAI,CACV,mBAAmB,EACnB,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,KAAK;IAC1B,MAAM;MACJC,YAAY;MACZC,UAAU,EAAE;QAAEC;MAAU;IAC1B,CAAC,GAAGJ,KAAK;IACT,IAAI,CAACE,YAAY,EAAE;MACjB;MACA,OAAOH,MAAM;IACf;IACA,MAAM;MACJM,KAAK,EAAE;QAAEC,WAAW;QAAEC,gBAAgB;QAAEC,eAAe,EAAEC;MAAM;IACjE,CAAC,GAAGR,OAAO;IACX,IAAIK,WAAW,IAAIC,gBAAgB,EAAE;MACnCL,YAAY,CAACH,MAAM,CAACW,IAAI,EAAEN,SAAS,CAACK,KAAK,CAACC,IAAI,CAAC,CAAC;IAClD;IACA,OAAOX,MAAM;EACf,CAAC,EACD,CAAC,yBAAyB,CAC5B,CAAC;AACH,CAAC;AAAAY,OAAA,CAAAC,OAAA,GAAAhB,uBAAA"}