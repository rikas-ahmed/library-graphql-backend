{"version":3,"file":"PageInfoStartEndCursor.js","names":["PageInfoStartEndCursor","builder","hook","fields","build","context","extend","getTypeByName","inflection","Self","fieldWithHooks","name","builtin","Cursor","startCursor","addDataGenerator","usesCursor","description","wrapDescription","type","isPageInfoStartCursorField","endCursor","exports","default"],"sources":["../../src/plugins/PageInfoStartEndCursor.js"],"sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\n\nexport default (function PageInfoStartEndCursor(builder) {\n  builder.hook(\n    \"GraphQLObjectType:fields\",\n    (fields, build, context) => {\n      const { extend, getTypeByName, inflection } = build;\n      const { Self, fieldWithHooks } = context;\n      if (Self.name !== inflection.builtin(\"PageInfo\")) {\n        return fields;\n      }\n      const Cursor = getTypeByName(\"Cursor\");\n      return extend(\n        fields,\n        {\n          startCursor: fieldWithHooks(\n            \"startCursor\",\n            ({ addDataGenerator }) => {\n              addDataGenerator(() => ({ usesCursor: [true] }));\n              return {\n                description: build.wrapDescription(\n                  \"When paginating backwards, the cursor to continue.\",\n                  \"field\"\n                ),\n                type: Cursor,\n              };\n            },\n            {\n              isPageInfoStartCursorField: true,\n            }\n          ),\n          endCursor: fieldWithHooks(\n            \"endCursor\",\n            ({ addDataGenerator }) => {\n              addDataGenerator(() => ({ usesCursor: [true] }));\n              return {\n                description: build.wrapDescription(\n                  \"When paginating forwards, the cursor to continue.\",\n                  \"field\"\n                ),\n                type: Cursor,\n              };\n            },\n            {\n              isPageInfoStartCursorField: true,\n            }\n          ),\n        },\n        `Adding startCursor/endCursor to ${Self.name}`\n      );\n    },\n    [\"PageInfoStartEndCursor\"],\n    [],\n    [\"Cursor\"]\n  );\n}: Plugin);\n"],"mappings":";;;;;;IAGyBA,sBAAsB,GAA/B,SAASA,sBAAsBA,CAACC,OAAO,EAAE;EACvDA,OAAO,CAACC,IAAI,CACV,0BAA0B,EAC1B,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,KAAK;IAC1B,MAAM;MAAEC,MAAM;MAAEC,aAAa;MAAEC;IAAW,CAAC,GAAGJ,KAAK;IACnD,MAAM;MAAEK,IAAI;MAAEC;IAAe,CAAC,GAAGL,OAAO;IACxC,IAAII,IAAI,CAACE,IAAI,KAAKH,UAAU,CAACI,OAAO,CAAC,UAAU,CAAC,EAAE;MAChD,OAAOT,MAAM;IACf;IACA,MAAMU,MAAM,GAAGN,aAAa,CAAC,QAAQ,CAAC;IACtC,OAAOD,MAAM,CACXH,MAAM,EACN;MACEW,WAAW,EAAEJ,cAAc,CACzB,aAAa,EACb,CAAC;QAAEK;MAAiB,CAAC,KAAK;QACxBA,gBAAgB,CAAC,OAAO;UAAEC,UAAU,EAAE,CAAC,IAAI;QAAE,CAAC,CAAC,CAAC;QAChD,OAAO;UACLC,WAAW,EAAEb,KAAK,CAACc,eAAe,CAChC,oDAAoD,EACpD,OACF,CAAC;UACDC,IAAI,EAAEN;QACR,CAAC;MACH,CAAC,EACD;QACEO,0BAA0B,EAAE;MAC9B,CACF,CAAC;MACDC,SAAS,EAAEX,cAAc,CACvB,WAAW,EACX,CAAC;QAAEK;MAAiB,CAAC,KAAK;QACxBA,gBAAgB,CAAC,OAAO;UAAEC,UAAU,EAAE,CAAC,IAAI;QAAE,CAAC,CAAC,CAAC;QAChD,OAAO;UACLC,WAAW,EAAEb,KAAK,CAACc,eAAe,CAChC,mDAAmD,EACnD,OACF,CAAC;UACDC,IAAI,EAAEN;QACR,CAAC;MACH,CAAC,EACD;QACEO,0BAA0B,EAAE;MAC9B,CACF;IACF,CAAC,EACA,mCAAkCX,IAAI,CAACE,IAAK,EAC/C,CAAC;EACH,CAAC,EACD,CAAC,wBAAwB,CAAC,EAC1B,EAAE,EACF,CAAC,QAAQ,CACX,CAAC;AACH,CAAC;AAAAW,OAAA,CAAAC,OAAA,GAAAvB,sBAAA"}