{"version":3,"file":"utils.js","names":["parseTags","str","split","reduce","prev","curr","text","match","key","slice","trim","value","replace","tags","Object","prototype","hasOwnProperty","call","Array","isArray","exports"],"sources":["../src/utils.js"],"sourcesContent":["// @flow\nexport const parseTags = (str: string) => {\n  return str.split(/\\r?\\n/).reduce(\n    (prev, curr) => {\n      if (prev.text !== \"\") {\n        return { ...prev, text: `${prev.text}\\n${curr}` };\n      }\n      const match = curr.match(/^@[a-zA-Z][a-zA-Z0-9_]*($|\\s)/);\n      if (!match) {\n        return { ...prev, text: curr };\n      }\n      const key = match[0].slice(1).trim();\n      const value = match[0] === curr ? true : curr.replace(match[0], \"\");\n      return {\n        ...prev,\n        tags: {\n          ...prev.tags,\n          [key]: !Object.prototype.hasOwnProperty.call(prev.tags, key)\n            ? value\n            : Array.isArray(prev.tags[key])\n            ? [...prev.tags[key], value]\n            : [prev.tags[key], value],\n        },\n      };\n    },\n    {\n      tags: {},\n      text: \"\",\n    }\n  );\n};\n"],"mappings":";;;;;;AACO,MAAMA,SAAS,GAAIC,GAAW,IAAK;EACxC,OAAOA,GAAG,CAACC,KAAK,CAAC,OAAO,CAAC,CAACC,MAAM,CAC9B,CAACC,IAAI,EAAEC,IAAI,KAAK;IACd,IAAID,IAAI,CAACE,IAAI,KAAK,EAAE,EAAE;MACpB,OAAO;QAAE,GAAGF,IAAI;QAAEE,IAAI,EAAG,GAAEF,IAAI,CAACE,IAAK,KAAID,IAAK;MAAE,CAAC;IACnD;IACA,MAAME,KAAK,GAAGF,IAAI,CAACE,KAAK,CAAC,+BAA+B,CAAC;IACzD,IAAI,CAACA,KAAK,EAAE;MACV,OAAO;QAAE,GAAGH,IAAI;QAAEE,IAAI,EAAED;MAAK,CAAC;IAChC;IACA,MAAMG,GAAG,GAAGD,KAAK,CAAC,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IACpC,MAAMC,KAAK,GAAGJ,KAAK,CAAC,CAAC,CAAC,KAAKF,IAAI,GAAG,IAAI,GAAGA,IAAI,CAACO,OAAO,CAACL,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;IACnE,OAAO;MACL,GAAGH,IAAI;MACPS,IAAI,EAAE;QACJ,GAAGT,IAAI,CAACS,IAAI;QACZ,CAACL,GAAG,GAAG,CAACM,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACb,IAAI,CAACS,IAAI,EAAEL,GAAG,CAAC,GACxDG,KAAK,GACLO,KAAK,CAACC,OAAO,CAACf,IAAI,CAACS,IAAI,CAACL,GAAG,CAAC,CAAC,GAC7B,CAAC,GAAGJ,IAAI,CAACS,IAAI,CAACL,GAAG,CAAC,EAAEG,KAAK,CAAC,GAC1B,CAACP,IAAI,CAACS,IAAI,CAACL,GAAG,CAAC,EAAEG,KAAK;MAC5B;IACF,CAAC;EACH,CAAC,EACD;IACEE,IAAI,EAAE,CAAC,CAAC;IACRP,IAAI,EAAE;EACR,CACF,CAAC;AACH,CAAC;AAACc,OAAA,CAAApB,SAAA,GAAAA,SAAA"}