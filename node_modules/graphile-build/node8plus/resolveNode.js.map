{"version":3,"file":"resolveNode.js","names":["resolveNode","nodeId","build","getDataFromParsedResolveInfoFragment","data","context","resolveInfo","$$isQuery","$$nodeType","parseResolveInfo","nodeFetcherByTypeName","getTypeAndIdentifiersFromNodeId","graphql","getNamedType","Type","identifiers","Error","resolver","name","parsedResolveInfoFragment","resolveData","node","returnType","Object","defineProperty","enumerable","configurable","value","e"],"sources":["../src/resolveNode.js"],"sourcesContent":["export default async function resolveNode(\n  nodeId,\n  build,\n  { getDataFromParsedResolveInfoFragment },\n  data,\n  context,\n  resolveInfo\n) {\n  const {\n    $$isQuery,\n    $$nodeType,\n    parseResolveInfo,\n    nodeFetcherByTypeName,\n    getTypeAndIdentifiersFromNodeId,\n    graphql: { getNamedType },\n  } = build;\n  if (nodeId === \"query\") {\n    return $$isQuery;\n  }\n  try {\n    const { Type, identifiers } = getTypeAndIdentifiersFromNodeId(nodeId);\n    if (!Type) {\n      throw new Error(\"Type not found\");\n    }\n    const resolver = nodeFetcherByTypeName[getNamedType(Type).name];\n    const parsedResolveInfoFragment = parseResolveInfo(resolveInfo, {}, Type);\n    const resolveData = getDataFromParsedResolveInfoFragment(\n      parsedResolveInfoFragment,\n      getNamedType(Type)\n    );\n    const node = await resolver(\n      data,\n      identifiers,\n      context,\n      parsedResolveInfoFragment,\n      resolveInfo.returnType,\n      resolveData,\n      resolveInfo\n    );\n    Object.defineProperty(node, $$nodeType, {\n      enumerable: false,\n      configurable: false,\n      value: Type,\n    });\n    return node;\n  } catch (e) {\n    return null;\n  }\n}\n"],"mappings":";;;;;;AAAe,eAAeA,WAAWA,CACvCC,MAAM,EACNC,KAAK,EACL;EAAEC;AAAqC,CAAC,EACxCC,IAAI,EACJC,OAAO,EACPC,WAAW,EACX;EACA,MAAM;IACJC,SAAS;IACTC,UAAU;IACVC,gBAAgB;IAChBC,qBAAqB;IACrBC,+BAA+B;IAC/BC,OAAO,EAAE;MAAEC;IAAa;EAC1B,CAAC,GAAGX,KAAK;EACT,IAAID,MAAM,KAAK,OAAO,EAAE;IACtB,OAAOM,SAAS;EAClB;EACA,IAAI;IACF,MAAM;MAAEO,IAAI;MAAEC;IAAY,CAAC,GAAGJ,+BAA+B,CAACV,MAAM,CAAC;IACrE,IAAI,CAACa,IAAI,EAAE;MACT,MAAM,IAAIE,KAAK,CAAC,gBAAgB,CAAC;IACnC;IACA,MAAMC,QAAQ,GAAGP,qBAAqB,CAACG,YAAY,CAACC,IAAI,CAAC,CAACI,IAAI,CAAC;IAC/D,MAAMC,yBAAyB,GAAGV,gBAAgB,CAACH,WAAW,EAAE,CAAC,CAAC,EAAEQ,IAAI,CAAC;IACzE,MAAMM,WAAW,GAAGjB,oCAAoC,CACtDgB,yBAAyB,EACzBN,YAAY,CAACC,IAAI,CACnB,CAAC;IACD,MAAMO,IAAI,GAAG,MAAMJ,QAAQ,CACzBb,IAAI,EACJW,WAAW,EACXV,OAAO,EACPc,yBAAyB,EACzBb,WAAW,CAACgB,UAAU,EACtBF,WAAW,EACXd,WACF,CAAC;IACDiB,MAAM,CAACC,cAAc,CAACH,IAAI,EAAEb,UAAU,EAAE;MACtCiB,UAAU,EAAE,KAAK;MACjBC,YAAY,EAAE,KAAK;MACnBC,KAAK,EAAEb;IACT,CAAC,CAAC;IACF,OAAOO,IAAI;EACb,CAAC,CAAC,OAAOO,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF"}