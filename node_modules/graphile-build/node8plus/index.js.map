{"version":3,"file":"index.js","names":["_util","_interopRequireDefault","require","_SchemaBuilder","_plugins","_resolveNode","_utils","_Live","obj","__esModule","default","getBuilder","plugins","options","builder","SchemaBuilder","i","l","length","plugin","Error","util","inspect","_setPluginName","displayName","name","exports","buildSchema","defaultPlugins","SwallowErrorsPlugin","StandardTypesPlugin","NodePlugin","QueryPlugin","MutationPlugin","SubscriptionPlugin","ClientMutationIdDescriptionPlugin","MutationPayloadQueryPlugin","AddQueriesToSubscriptionsPlugin","TrimEmptyDescriptionsPlugin"],"sources":["../src/index.js"],"sourcesContent":["// @flow\n\nimport util from \"util\";\nimport SchemaBuilder from \"./SchemaBuilder\";\nimport {\n  SwallowErrorsPlugin,\n  StandardTypesPlugin,\n  NodePlugin,\n  QueryPlugin,\n  MutationPlugin,\n  SubscriptionPlugin,\n  ClientMutationIdDescriptionPlugin,\n  MutationPayloadQueryPlugin,\n  AddQueriesToSubscriptionsPlugin,\n  TrimEmptyDescriptionsPlugin,\n} from \"./plugins\";\nimport resolveNode from \"./resolveNode\";\nimport type { GraphQLSchema } from \"graphql\";\n\nimport type { Plugin, Options } from \"./SchemaBuilder\";\n\nexport {\n  constantCaseAll,\n  formatInsideUnderscores,\n  upperFirst,\n  camelCase,\n  constantCase,\n  upperCamelCase,\n  pluralize,\n  singularize,\n} from \"./utils\";\n\nexport type { SchemaBuilder };\n\nexport type {\n  Plugin,\n  Options,\n  Build,\n  BuildExtensionQuery,\n  Scope,\n  Context,\n  Hook,\n  WatchUnwatch,\n  SchemaListener,\n} from \"./SchemaBuilder\";\n\nexport { LiveSource, LiveProvider, LiveMonitor, LiveCoordinator } from \"./Live\";\n\nexport const getBuilder = async (\n  plugins: Array<Plugin>,\n  options: Options = {}\n): Promise<SchemaBuilder> => {\n  const builder = new SchemaBuilder(options);\n  for (let i = 0, l = plugins.length; i < l; i++) {\n    const plugin = plugins[i];\n    if (typeof plugin !== \"function\") {\n      throw new Error(\n        `Expected a list of plugin functions, instead list contained a non-function at index ${i}: ${util.inspect(\n          plugin\n        )}`\n      );\n    }\n    // $FlowFixMe: displayName\n    builder._setPluginName(plugin.displayName || plugin.name);\n    await plugin(builder, options);\n    builder._setPluginName(null);\n  }\n  return builder;\n};\n\nexport const buildSchema = async (\n  plugins: Array<Plugin>,\n  options: Options = {}\n): Promise<GraphQLSchema> => {\n  const builder: SchemaBuilder = await getBuilder(plugins, options);\n  return builder.buildSchema();\n};\n\nexport const defaultPlugins: Array<Plugin> = [\n  SwallowErrorsPlugin,\n  StandardTypesPlugin,\n  NodePlugin,\n  QueryPlugin,\n  MutationPlugin,\n  SubscriptionPlugin,\n  ClientMutationIdDescriptionPlugin,\n  MutationPayloadQueryPlugin,\n  AddQueriesToSubscriptionsPlugin,\n  TrimEmptyDescriptionsPlugin,\n];\n\nexport {\n  SwallowErrorsPlugin,\n  StandardTypesPlugin,\n  NodePlugin,\n  QueryPlugin,\n  MutationPlugin,\n  SubscriptionPlugin,\n  ClientMutationIdDescriptionPlugin,\n  MutationPayloadQueryPlugin,\n  AddQueriesToSubscriptionsPlugin,\n  // resolveNode: EXPERIMENTAL, API might change!\n  resolveNode,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AAYA,IAAAG,YAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAKA,IAAAI,MAAA,GAAAJ,OAAA;AAyBA,IAAAK,KAAA,GAAAL,OAAA;AAAgF,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzE,MAAMG,UAAU,GAAG,MAAAA,CACxBC,OAAsB,EACtBC,OAAgB,GAAG,CAAC,CAAC,KACM;EAC3B,MAAMC,OAAO,GAAG,IAAIC,sBAAa,CAACF,OAAO,CAAC;EAC1C,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGL,OAAO,CAACM,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC9C,MAAMG,MAAM,GAAGP,OAAO,CAACI,CAAC,CAAC;IACzB,IAAI,OAAOG,MAAM,KAAK,UAAU,EAAE;MAChC,MAAM,IAAIC,KAAK,CACZ,uFAAsFJ,CAAE,KAAIK,aAAI,CAACC,OAAO,CACvGH,MACF,CAAE,EACJ,CAAC;IACH;IACA;IACAL,OAAO,CAACS,cAAc,CAACJ,MAAM,CAACK,WAAW,IAAIL,MAAM,CAACM,IAAI,CAAC;IACzD,MAAMN,MAAM,CAACL,OAAO,EAAED,OAAO,CAAC;IAC9BC,OAAO,CAACS,cAAc,CAAC,IAAI,CAAC;EAC9B;EACA,OAAOT,OAAO;AAChB,CAAC;AAACY,OAAA,CAAAf,UAAA,GAAAA,UAAA;AAEK,MAAMgB,WAAW,GAAG,MAAAA,CACzBf,OAAsB,EACtBC,OAAgB,GAAG,CAAC,CAAC,KACM;EAC3B,MAAMC,OAAsB,GAAG,MAAMH,UAAU,CAACC,OAAO,EAAEC,OAAO,CAAC;EACjE,OAAOC,OAAO,CAACa,WAAW,CAAC,CAAC;AAC9B,CAAC;AAACD,OAAA,CAAAC,WAAA,GAAAA,WAAA;AAEK,MAAMC,cAA6B,GAAG,CAC3CC,4BAAmB,EACnBC,4BAAmB,EACnBC,mBAAU,EACVC,oBAAW,EACXC,uBAAc,EACdC,2BAAkB,EAClBC,0CAAiC,EACjCC,mCAA0B,EAC1BC,wCAA+B,EAC/BC,oCAA2B,CAC5B;AAACZ,OAAA,CAAAE,cAAA,GAAAA,cAAA"}